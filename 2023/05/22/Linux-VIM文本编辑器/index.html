<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":true,"preload":true},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="VIM 文本编辑器使用方法及技巧--来源 《Practical Vim》">
<meta property="og:type" content="article">
<meta property="og:title" content="IDEA VIM文本编辑器">
<meta property="og:url" content="http://example.com/2023/05/22/Linux-VIM%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/index.html">
<meta property="og:site_name" content="Lanchester Blog">
<meta property="og:description" content="VIM 文本编辑器使用方法及技巧--来源 《Practical Vim》">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/images/Linux/在列间增加分隔竖线.png">
<meta property="og:image" content="http://example.com/images/Linux/在行间增加分隔横线.png">
<meta property="og:image" content="http://example.com/images/Linux/向多行插入文本.png">
<meta property="og:image" content="http://example.com/images/Linux/在列块可视模式中为多行添加分号.png">
<meta property="og:image" content="http://example.com/images/Linux/表达式寄存器.png">
<meta property="og:image" content="http://example.com/images/Linux/宏录制.png">
<meta property="og:image" content="http://example.com/images/Linux/调整匹配范围.png">
<meta property="og:image" content="http://example.com/images/Linux/使用圆括号但不捕获其内容.png">
<meta property="og:image" content="http://example.com/images/Linux/使用圆括号但不捕获其内容-1.png">
<meta property="og:image" content="http://example.com/images/Linux/选择性修改文档内匹配的单词.png">
<meta property="og:image" content="http://example.com/images/Linux/增减数字.png">
<meta property="og:image" content="http://example.com/images/Linux/用迭代求值的方式给列表编号.png">
<meta property="og:image" content="http://example.com/images/Linux/在其余文本上执行宏.png">
<meta property="article:published_time" content="2023-05-22T03:45:14.000Z">
<meta property="article:modified_time" content="2023-05-27T06:30:24.525Z">
<meta property="article:author" content="Wang Zihao">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="VIM">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/images/Linux/在列间增加分隔竖线.png">

<link rel="canonical" href="http://example.com/2023/05/22/Linux-VIM%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>IDEA VIM文本编辑器 | Lanchester Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Lanchester Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Leave a leaf</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/05/22/Linux-VIM%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Wang Zihao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lanchester Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          IDEA VIM文本编辑器
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-05-22 11:45:14" itemprop="dateCreated datePublished" datetime="2023-05-22T11:45:14+08:00">2023-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-05-27 14:30:24" itemprop="dateModified" datetime="2023-05-27T14:30:24+08:00">2023-05-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>VIM 文本编辑器使用方法及技巧<br><code>--来源 《Practical Vim》</code></p>
<span id="more"></span>
<h1 id="模式"><a href="#模式" class="headerlink" title="模式"></a>模式</h1><h2 id="普通模式"><a href="#普通模式" class="headerlink" title="普通模式"></a>普通模式</h2><div class="table-container">
<table>
<thead>
<tr>
<th>目的</th>
<th>操作</th>
<th>重复</th>
<th>回退</th>
</tr>
</thead>
<tbody>
<tr>
<td>做出一个修改</td>
<td><code>&#123;edit&#125;</code></td>
<td><code>.</code></td>
<td><code>u</code></td>
</tr>
<tr>
<td>在行内查找下一指定字符</td>
<td><code>f&#123;char&#125;/t&#123;char&#125;</code></td>
<td><code>;</code></td>
<td><code>,</code></td>
</tr>
<tr>
<td>在行内查找上一指定字符</td>
<td><code>F&#123;char&#125;/T&#123;char&#125;</code></td>
<td><code>;</code></td>
<td><code>,</code></td>
</tr>
<tr>
<td>在文档中查找下一处匹配项</td>
<td><code>/pattern/&lt;CR&gt;</code></td>
<td><code>n</code></td>
<td><code>N</code></td>
</tr>
<tr>
<td>在文档中查找上一处匹配项</td>
<td><code>?pattern/&lt;CR&gt;</code></td>
<td><code>n</code></td>
<td><code>N</code></td>
</tr>
<tr>
<td>执行替换</td>
<td><code>:s/target/replacement</code></td>
<td><code>&amp;</code></td>
<td><code>u</code></td>
</tr>
<tr>
<td>执行一系列修改</td>
<td><code>qx&#123;changes&#125;q</code></td>
<td><code>@x</code></td>
<td><code>u</code></td>
</tr>
</tbody>
</table>
</div>
<h3 id="进入插入模式的方式"><a href="#进入插入模式的方式" class="headerlink" title="进入插入模式的方式"></a>进入插入模式的方式</h3><div class="table-container">
<table>
<thead>
<tr>
<th>命令</th>
<th>等效按键</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>i（insert）</td>
<td></td>
<td>从光标所在处前一个字符输入</td>
</tr>
<tr>
<td>I（insert）</td>
<td><code>^i</code></td>
<td>从光标所在行的第一个非空格符处输入</td>
</tr>
<tr>
<td>a（append）</td>
<td></td>
<td>从光标所在的下一个字符处输入</td>
</tr>
<tr>
<td>A（append）</td>
<td><code>&amp;a</code></td>
<td>从光标所在行的最后一个字符处输入</td>
</tr>
<tr>
<td>o</td>
<td><code>A&lt;Enter&gt;</code></td>
<td>从光标所在的下一行处输入新的一行</td>
</tr>
<tr>
<td>O</td>
<td><code>ko</code></td>
<td>从光标所在的上一行处输入新的一行</td>
</tr>
<tr>
<td>s</td>
<td><code>cl</code></td>
<td>删除光标所在的下一个字符并进入编辑状态</td>
</tr>
<tr>
<td>S</td>
<td><code>^C</code></td>
<td>从光标所在行的第一个非空字符开始删除后面的内容后进入编辑状态</td>
</tr>
<tr>
<td>c（change）</td>
<td></td>
<td>删除选定范围内的内容进入编辑状态</td>
</tr>
<tr>
<td>C（change）</td>
<td><code>c$</code></td>
<td>删除当前行光标后面的部分进入编辑状态</td>
</tr>
<tr>
<td>J (Join)</td>
<td></td>
<td>将光标所在行与下一行的数据结合成同一行</td>
</tr>
</tbody>
</table>
</div>
<h3 id="操作符命令"><a href="#操作符命令" class="headerlink" title="操作符命令"></a>操作符命令</h3><p>Vim 的语法只有一条额外规则，即当一个操作符命令被连续调用两次时，它会作 用于当前行。所以 dd 删除当前行，而 &gt;&gt; 缩进当前行。gU 命令是一种特殊情况，我 们既可以用 gUgU ，也可以用简化版的 gUU 来使它作用于当前行。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>命令</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>c</td>
<td>修改(删除后进入插入模式)</td>
</tr>
<tr>
<td>d</td>
<td>删除</td>
</tr>
<tr>
<td>y</td>
<td>复制到寄存器</td>
</tr>
<tr>
<td>x,X</td>
<td>x 向后删除一个字符，X 向前删除一个字符</td>
</tr>
<tr>
<td>p,P</td>
<td>粘贴在光标所在行之后(P 为光标所在行之前)</td>
</tr>
<tr>
<td>~</td>
<td>反转光标下字符的大小写</td>
</tr>
<tr>
<td>g-</td>
<td>反转大小写</td>
</tr>
<tr>
<td>gu</td>
<td>转换为小写</td>
</tr>
<tr>
<td>gU</td>
<td>转换为大写</td>
</tr>
<tr>
<td>&gt;</td>
<td>增加缩进</td>
</tr>
<tr>
<td>&lt;</td>
<td>减少缩进</td>
</tr>
</tbody>
</table>
</div>
<h2 id="插入模式"><a href="#插入模式" class="headerlink" title="插入模式"></a>插入模式</h2><h3 id="返回普通模式的方式"><a href="#返回普通模式的方式" class="headerlink" title="返回普通模式的方式"></a>返回普通模式的方式</h3><div class="table-container">
<table>
<thead>
<tr>
<th>按键操作</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ESC</code></td>
<td>切换到普通模式</td>
</tr>
<tr>
<td><code>&lt;C-[&gt;</code></td>
<td>切换到普通模式</td>
</tr>
<tr>
<td><code>&lt;C-o&gt;</code></td>
<td>切换到插入-普通模式</td>
</tr>
</tbody>
</table>
</div>
<p>插入-普通模式的意思就是暂时退出插入模式，并在执行一个普通模式的命令后返回。</p>
<blockquote>
<p>TIP：当我们编辑到一半光标已经移出屏幕中央时，可以使用 <code>&lt;C-o&gt;zz</code> 暂时退出插入模式、执行一个普通模式的命令并紧接着进入插入模式。</p>
</blockquote>
<h3 id="反向删除的方式"><a href="#反向删除的方式" class="headerlink" title="反向删除的方式"></a>反向删除的方式</h3><div class="table-container">
<table>
<thead>
<tr>
<th>按键操作</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;C-h&gt;</code></td>
<td>删除前一个字符（同退格键）</td>
</tr>
<tr>
<td><code>&lt;C-w&gt;</code></td>
<td>删除前一个单词</td>
</tr>
<tr>
<td><code>&lt;C-u&gt;</code></td>
<td>删除至行首</td>
</tr>
</tbody>
</table>
</div>
<h2 id="替换模式"><a href="#替换模式" class="headerlink" title="替换模式"></a>替换模式</h2><div class="table-container">
<table>
<thead>
<tr>
<th>按键操作</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>r</td>
<td>进入替换模式（替换一个字符后退出）</td>
</tr>
<tr>
<td>R</td>
<td>进入替换模式（ESC 后退出）</td>
</tr>
<tr>
<td>gr</td>
<td>进入虚拟替换模式（替换一个字符后退出）</td>
</tr>
<tr>
<td>gR</td>
<td>进入虚拟替换模式（ESC 后退出）</td>
</tr>
</tbody>
</table>
</div>
<p>某些字符会使替换模式变得复杂化。以制表符为例，在文件中它以单个字符表示，但在屏幕上它却会占据若干列的宽度，此宽度由 ‘tabstop’ 设置决定（参见:h ‘tabstop’ ）。如果把光标移到制表符上，然后进入替换模式，那么我们所输入的下一个字符将会替换制表符。假设 ‘tabstop’ 选项设置为 8（这是缺省值），那么该操作的结果就是把 8 个字符替换成了一个字符，这将大幅缩短当前行的长度。 </p>
<p>不过 Vim 还有另外一种替换模式，称为虚拟替换模式（Virtual Replace mode）。该模式可由 gR 命令触发，它会把制表符当成一组空格进行处理。假设我们把光标移到一个占屏幕 8 列宽的制表符上，然后切换到虚拟替换模式，在输入前 7 个字符时，每个字符都会被插入到制表符之前；最后，当输入了第 8 个字符时，该字符将会替换制表符。</p>
<p>在虚拟替换模式中，我们是按屏幕上实际显示的宽度来替换字符的，而不是按文件中所保存的字符进行替换。这会减少意外情况的发生，因此我建议在可能的情况下尽量使用虚拟替换模式。</p>
<h2 id="可视模式"><a href="#可视模式" class="headerlink" title="可视模式"></a>可视模式</h2><p>Vim 具有 3 种不同的可视模式，分别用于操作字符文本、行文本或块文本。</p>
<h3 id="进入可视模式"><a href="#进入可视模式" class="headerlink" title="进入可视模式"></a>进入可视模式</h3><div class="table-container">
<table>
<thead>
<tr>
<th>按键操作</th>
<th>用途</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>v</td>
<td>激活面向字符的可视模式</td>
<td>再次触发返回普通模式</td>
</tr>
<tr>
<td>V</td>
<td>激活面向行的可视模式</td>
<td>再次触发返回普通模式</td>
</tr>
<tr>
<td><code>&lt;C-v&gt;</code></td>
<td>面向列块的可视模式</td>
<td>再次触发返回普通模式</td>
</tr>
<tr>
<td>gv</td>
<td>重选上次的高亮选区</td>
<td></td>
</tr>
<tr>
<td>o</td>
<td>切换活动端点</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>高亮选区的范围由其两个端点界定。其中一端固定，而另一端可以随光标自由移动，我们可以用 o 键来切换其活动的端点。在定义选区时，如果定义到一半时，才发现选区开始的位置不对，此时用这个键会很方便，我们用不着退出可视模式再从头开始，只需按一下 o，然后重新调整选区的边界即可。</p>
</blockquote>
<h3 id="面向行-列的可视命令"><a href="#面向行-列的可视命令" class="headerlink" title="面向行/列的可视命令"></a>面向行/列的可视命令</h3><h4 id="在列间增加分隔竖线"><a href="#在列间增加分隔竖线" class="headerlink" title="在列间增加分隔竖线"></a>在列间增加分隔竖线</h4><p><img src="/images/Linux/在列间增加分隔竖线.png" alt=""></p>
<p>上述列表使用 <code>.</code> 连续删除了多个空列，也可以使用向右移动扩展选区的形式删除多列空行。</p>
<h4 id="在行间增加横线"><a href="#在行间增加横线" class="headerlink" title="在行间增加横线"></a>在行间增加横线</h4><p><img src="/images/Linux/在行间增加分隔横线.png" alt=""></p>
<h4 id="向多行插入文本"><a href="#向多行插入文本" class="headerlink" title="向多行插入文本"></a>向多行插入文本</h4><p><img src="/images/Linux/向多行插入文本.png" alt=""></p>
<h4 id="在长短不一的高亮块后添加文本"><a href="#在长短不一的高亮块后添加文本" class="headerlink" title="在长短不一的高亮块后添加文本"></a>在长短不一的高亮块后添加文本</h4><p><img src="/images/Linux/在列块可视模式中为多行添加分号.png" alt=""></p>
<h3 id="可视-选择模式"><a href="#可视-选择模式" class="headerlink" title="可视-选择模式"></a>可视-选择模式</h3><p>在可视-选择模式中，选中一段文本后，再输入任意可见字符时，这些选中的文本将会被删除，同时 Vim 会进入插入模式，并插入这个可见字符。</p>
<p>按 <code>&lt;C-g&gt;</code> 可以在可视模式及选择模式间切换。切换后看到的唯一不同是屏幕下方的提示信息会在 “— 可视 —”（— VISUAL —）及“—选择—”（—SELECT—）间转换。但是，如果在选择模式中输入任意可见字符的话，此字符会替换所选内容并切换到插入模式。当然，如果是在可视模式中，你仍可以像往常一样用 c 键来修改所选内容。</p>
<h3 id="可视模式选择技巧"><a href="#可视模式选择技巧" class="headerlink" title="可视模式选择技巧"></a>可视模式选择技巧</h3><div class="table-container">
<table>
<thead>
<tr>
<th>按键操作</th>
<th>含义</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>vit</td>
<td>visually select inside tag</td>
<td>选择标签中内容</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<h2 id="命令行模式"><a href="#命令行模式" class="headerlink" title="命令行模式"></a>命令行模式</h2><h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><div class="table-container">
<table>
<thead>
<tr>
<th>命令</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:[range]delete [x]</code></td>
<td>删除指定范围内的行到寄存器x中</td>
</tr>
<tr>
<td><code>:[range]yank [x]</code></td>
<td>复制指定范围内的行到寄存器x中</td>
</tr>
<tr>
<td><code>:[line]put [x]</code></td>
<td>在指定行后粘贴寄存器x中的内容</td>
</tr>
<tr>
<td><code>:[range]copy [address]</code></td>
<td>把指定范围内的行拷贝到 {address} 所指定的行下</td>
</tr>
<tr>
<td><code>:[range]move [address]</code></td>
<td>把指定范围内的行移动到 {address} 所指定的行下</td>
</tr>
<tr>
<td><code>:[range]join</code></td>
<td>连接指定范围内的行</td>
</tr>
<tr>
<td><code>:[range]normal &#123;commands&#125;</code></td>
<td>对指定范围内的每一行执行普通模式命令 {commands}</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>copy 命令可以使用 t 来替代，move 命令可以使用 m 来代替。</p>
</blockquote>
<h4 id="复制"><a href="#复制" class="headerlink" title="复制"></a>复制</h4><div class="table-container">
<table>
<thead>
<tr>
<th>命令</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:6t.</code></td>
<td>把第六行复制到当前行下方</td>
</tr>
<tr>
<td><code>:t6</code></td>
<td>把当前行复制到第六行下方</td>
</tr>
<tr>
<td><code>:t.</code></td>
<td>为当前行创建一个副本</td>
</tr>
<tr>
<td><code>:t$</code></td>
<td>把当前行复制到文件结尾</td>
</tr>
<tr>
<td><code>:&#39;&lt;,&#39;&gt;t0</code></td>
<td>把高亮选中的行复制到文件开头</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p><code>t.</code> 命令会创建一个当前行副本，而另外一种做法则是用普通模式的复制和粘贴命令 <code>yyp</code> 来达到同样的效果。这两种复制当前行的技术有个需要关注的差别。<br><code>yyp</code> 会使用寄存器，而 <code>t.</code> 则不会。</p>
</blockquote>
<h3 id="范围指代"><a href="#范围指代" class="headerlink" title="范围指代"></a>范围指代</h3><div class="table-container">
<table>
<thead>
<tr>
<th>命令</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0</code></td>
<td>虚拟行，位于第一行上方</td>
</tr>
<tr>
<td><code>1</code></td>
<td>文件的第一行</td>
</tr>
<tr>
<td><code>.</code></td>
<td>当前行</td>
</tr>
<tr>
<td><code>$</code></td>
<td>末尾行</td>
</tr>
<tr>
<td><code>%</code></td>
<td>文件中所有行，(1,$) 的简写形式</td>
</tr>
<tr>
<td><code>&#39;&lt;</code></td>
<td>代表高亮选区首行的位置标记</td>
</tr>
<tr>
<td><code>&#39;&gt;</code></td>
<td>代表高亮选区的最后一行</td>
</tr>
</tbody>
</table>
</div>
<p>在使用可视模式选择一个高亮范围后，按 <code>:</code> 进入命令行模式，会自动补充 <code>&#39;&lt;,&#39;&gt;</code> 来指代对高亮范围对应的行进行操作。</p>
<h3 id="模式指定范围"><a href="#模式指定范围" class="headerlink" title="模式指定范围"></a>模式指定范围</h3><p>VIM 接受以 <code>/&#123;start-pattern&#125;/,/&#123;end-pattern&#125;/</code> EX 命令来圈定范围。</p>
<pre class="line-numbers language-none"><code class="language-none">:&#x2F;&lt;html&gt;&#x2F;,&#x2F;&lt;&#x2F;html&gt;&#x2F;p

&lt;html&gt;
	&lt;head&gt;
		&lt;title&gt;Practical Vim&lt;&#x2F;title&gt;
	&lt;&#x2F;head&gt;
	&lt;body&gt;
		&lt;h1&gt;Practical Vim&lt;&#x2F;h1&gt;
	&lt;&#x2F;body&gt;
&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="自动补全-Ex-命令"><a href="#自动补全-Ex-命令" class="headerlink" title="自动补全 Ex 命令"></a>自动补全 Ex 命令</h3><p>如果我们多次按 <code>&lt;Tab&gt;</code> 键的话，命令行上会依次显示 colder、colorscheme，然后再回 到最初的 col，如此循环往复。要想反向遍历补全列表，可以按 <code>&lt;S-Tab&gt;</code>。而我们使用 <code>&lt;C-d&gt;</code> 命令会让 Vim 显示可用的补全列表。</p>
<h3 id="回溯历史命令"><a href="#回溯历史命令" class="headerlink" title="回溯历史命令"></a>回溯历史命令</h3><div class="table-container">
<table>
<thead>
<tr>
<th>命令</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>q/</code></td>
<td>打开查找命令历史的命令行窗口</td>
</tr>
<tr>
<td><code>q:</code></td>
<td>打开 Ex 命令历史的命令行窗口</td>
</tr>
<tr>
<td><code>&lt;C-f&gt;</code></td>
<td>从命令行模式切换到命令行窗口</td>
</tr>
</tbody>
</table>
</div>
<h3 id="与外部交互"><a href="#与外部交互" class="headerlink" title="与外部交互"></a>与外部交互</h3><h4 id="执行-Shell-命令"><a href="#执行-Shell-命令" class="headerlink" title="执行 Shell 命令"></a>执行 Shell 命令</h4><p>在 Vim 的命令行模式中，给命令加一个叹号前缀 <code>:!&#123;cmd&#125;</code> 就可以调用外部程序。而使用 <code>:shell</code> 则会开启一个 Shell 会话，并在不需要时执行 <code>:exit</code> 命令后返回 VIM。</p>
<h4 id="管理缓冲区的内容"><a href="#管理缓冲区的内容" class="headerlink" title="管理缓冲区的内容"></a>管理缓冲区的内容</h4><div class="table-container">
<table>
<thead>
<tr>
<th>命令</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:read !&#123;cmd&#125;</code></td>
<td>在shell中执行 <code>&#123;cmd&#125;</code>，并将其标准输出插入到光标下方</td>
</tr>
<tr>
<td><code>:[range]write !&#123;cmd&#125;</code></td>
<td>在shell中执行 <code>&#123;cmd&#125;</code>，以 <code>[range]</code> 作为标准输入</td>
</tr>
<tr>
<td><code>:[range]!&#123;filter&#125;</code></td>
<td>使用外部程序 <code>&#123;filter&#125;</code> 过滤指定的 <code>[range]</code></td>
</tr>
</tbody>
</table>
</div>
<h1 id="寄存器"><a href="#寄存器" class="headerlink" title="寄存器"></a>寄存器</h1><p>Vim 的删除、复制与粘贴命令都会用到众多寄存器中的某一个。我们可以通过给命令加 “{register} 前缀的方式指定要用的寄存器。若不指明，Vim 将缺省使用无名寄存器。</p>
<blockquote>
<p>使用 <code>:reg &#123;register&#125;</code> 可以查看寄存器内内容</p>
</blockquote>
<p>另外还可以活用 <code>&lt;C-r&gt;</code> 来提升效率，在插入模式中使用 <code>&lt;C-r&gt;&#123;register&#125;</code> 向文本中插入寄存器中的内容；在命令行模式中使用 <code>&lt;C-r&gt;&#123;register&#125;</code> 向命令行中插入寄存器中的内容。</p>
<h2 id="无名寄存器"><a href="#无名寄存器" class="headerlink" title="无名寄存器"></a>无名寄存器</h2><p>倘若没有指定要使用的寄存器，VIM 将缺省使用无名寄存器，它可以用双引号表示。 如  <code>“”d</code> 与 <code>d</code> 效果相同。</p>
<p><code>x</code>、<code>s</code>、<code>d&#123;motion&#125;</code>、<code>c&#123;motion&#125;</code> 与 <code>y&#123;motion&#125;</code> 命令(以及它们对应的大写命令) 都会覆盖无名寄存器中的内容。无论哪一种情况，都可以通过加 <code>&quot;&#123;register&#125;</code> 前缀来指定另外一个寄存器，但无名寄存器总是缺省的。事实上，无名寄存器的内容很容易被覆盖，如果我们不小心的话，会导致问题发生。</p>
<h2 id="复制专用寄存器"><a href="#复制专用寄存器" class="headerlink" title="复制专用寄存器"></a>复制专用寄存器</h2><p>当我们使用 <code>y&#123;motion&#125;</code> 命令时，要复制的文本不仅会被拷贝到无名寄存器中，而且也被拷贝到了复制专用寄存器中，后者可用数字 0 加以引用。</p>
<p>复制专用寄存器，顾名思义，仅当使用 <code>y&#123;motion&#125;</code> 命令时才会被赋值。如果我们复制了一些文本，可以确信该文本会一直保存于寄存器 0 中，直到我们复制其他文本时才会被覆盖。复制专用寄存器是稳定的，而无名寄存器是易变的。</p>
<h2 id="有名寄存器"><a href="#有名寄存器" class="headerlink" title="有名寄存器"></a>有名寄存器</h2><p>VIM 提供了一组以 26 个英文字母 a-z 命名的有名寄存器。需要注意的是，用小写字母引用有名寄存器，会覆盖该寄存器的原有内容，而换用大写字母的话， 则会将新内容添加到该寄存器的原有内容之后。</p>
<h2 id="系统寄存器和选择专用寄存器"><a href="#系统寄存器和选择专用寄存器" class="headerlink" title="系统寄存器和选择专用寄存器"></a>系统寄存器和选择专用寄存器</h2><p>如果想从 Vim 复制文本到外部程序(反之亦然)，则必须使用系统剪贴板。Vim 的加号寄存器与系统剪贴板等效，可用 + 号引用。</p>
<p>如果我们在外部程序中用剪切或复制命令获取了文本，就可以通过 <code>&quot;+p</code> 命令（或在插入模式下用 <code>&lt;C-r&gt;+</code>）将其粘贴到 Vim 内部。相反地，如果在 Vim 的复制或删除命令之前加入 <code>&quot;+</code> ，相应的文本将被捕获至系统剪贴板。这意味着我们能够轻松地把文本粘贴到其他应用程序中了。</p>
<h2 id="表达式寄存器"><a href="#表达式寄存器" class="headerlink" title="表达式寄存器"></a>表达式寄存器</h2><p>用 = 符号指明使用表达式寄存器。在插入模式中，输入 = 就可 以访问这一寄存器。这条命令会在屏幕的下方显示一个提示符，我们可以在其后输入要执行的表达式。输入表达式后敲一下 ，Vim 就会把执行的结果插入到文档的当 前位置了。</p>
<p><img src="/images/Linux/表达式寄存器.png" alt=""></p>
<h2 id="其他寄存器"><a href="#其他寄存器" class="headerlink" title="其他寄存器"></a>其他寄存器</h2><div class="table-container">
<table>
<thead>
<tr>
<th>寄存器</th>
<th>内容</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&quot;%</code></td>
<td>当前文件名</td>
</tr>
<tr>
<td><code>&quot;#</code></td>
<td>轮换文件名</td>
</tr>
<tr>
<td><code>&quot;.</code></td>
<td>上次插入的文本</td>
</tr>
<tr>
<td><code>&quot;:</code></td>
<td>上次执行的Ex命令</td>
</tr>
<tr>
<td><code>&quot;/</code></td>
<td>上次查找的模式</td>
</tr>
</tbody>
</table>
</div>
<h1 id="宏"><a href="#宏" class="headerlink" title="宏"></a>宏</h1><h2 id="录制宏"><a href="#录制宏" class="headerlink" title="录制宏"></a>录制宏</h2><p>q 键既是“录制”按钮，也是“停止”按钮。为了录制我们的按键操作，一开始需要按 q{register}，从而指定一个用于保存宏的寄存器。当状态栏中出现“记录中” 时，表示录制已经开始。此后，我们执行的每一条命令都将被宏捕获，直到我们再次按下 q 键停下为止。</p>
<p><img src="/images/Linux/宏录制.png" alt=""></p>
<blockquote>
<p>通过 <code>:reg &#123;register&#125;</code> 可以查看到寄存器中存放的录制宏内容</p>
</blockquote>
<h2 id="执行宏"><a href="#执行宏" class="headerlink" title="执行宏"></a>执行宏</h2><p>可以用 <code>@&#123;register&#125;</code> 命令执行指定寄存器的内容，@@ 来重复最近调用过的宏。如果是需要反复执行的宏可以通过 <code>&#123;times&#125;@@</code> 来指定宏的执行次数。当然，我们也可以通过可视模式选中需要执行的行后，通过命令 <code>:normal @&#123;register&#125;</code> 对那些行执行宏。</p>
<h2 id="追加宏"><a href="#追加宏" class="headerlink" title="追加宏"></a>追加宏</h2><p>有时候，我们在录制宏的过程中会漏掉某个至关重要的步骤。在这种情况下，我们没必要从头开始重录所有的步骤，而是可以在现有宏的结尾附加额外的命令。</p>
<p>在我们输入 qa 时，Vim 将开始录制接下来的按键操作，并将它们保存到寄存器 a 中，这会覆盖该寄存器原有的内容。如果我们输入的是 qA 的话，Vim 也会录制按键操作，但会把它们附加到寄存器 a 原有的内容之后。我们可以用这种方式更正该错误。</p>
<h1 id="更快的移动和跳转"><a href="#更快的移动和跳转" class="headerlink" title="更快的移动和跳转"></a>更快的移动和跳转</h1><h2 id="页面移动"><a href="#页面移动" class="headerlink" title="页面移动"></a>页面移动</h2><div class="table-container">
<table>
<thead>
<tr>
<th>命令</th>
<th>等价按键</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ctrl + u (up)</td>
<td></td>
<td>上移半页</td>
</tr>
<tr>
<td>Ctrl + d (down)</td>
<td></td>
<td>下移半页</td>
</tr>
<tr>
<td>Ctrl + f (forward)</td>
<td>Page Up</td>
<td>下移一页</td>
</tr>
<tr>
<td>Ctrl + b (back)</td>
<td>Page Down</td>
<td>上移一页</td>
</tr>
<tr>
<td>z + Enter</td>
<td></td>
<td>将当前行滚动到屏幕顶端</td>
</tr>
<tr>
<td>z + .</td>
<td></td>
<td>将当前行滚动到屏幕中心</td>
</tr>
<tr>
<td>z + -</td>
<td></td>
<td>将当前行移到屏幕底部</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>如果前面加上数值参数，代表将指定行滚动到屏幕指定的位置。</p>
</blockquote>
<h2 id="跳转"><a href="#跳转" class="headerlink" title="跳转"></a>跳转</h2><h3 id="方向跳转"><a href="#方向跳转" class="headerlink" title="方向跳转"></a>方向跳转</h3><div class="table-container">
<table>
<thead>
<tr>
<th>命令</th>
<th>等价按键</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>h</td>
<td>←</td>
<td>左</td>
</tr>
<tr>
<td>j</td>
<td>↓</td>
<td>下（同 Enter）</td>
</tr>
<tr>
<td>k</td>
<td>↑</td>
<td>上</td>
</tr>
<tr>
<td>l</td>
<td>→</td>
<td>右（同 Space）</td>
</tr>
</tbody>
</table>
</div>
<h3 id="词跳转"><a href="#词跳转" class="headerlink" title="词跳转"></a>词跳转</h3><div class="table-container">
<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>w</td>
<td>正向移动到下一单词的开头</td>
</tr>
<tr>
<td>W</td>
<td>正向移动到下一单词的开头（忽略字符及标点）</td>
</tr>
<tr>
<td>b</td>
<td>反向移动到上一单词的开头</td>
</tr>
<tr>
<td>B</td>
<td>反向移动到上一单词的开头（忽略字符及标点）</td>
</tr>
<tr>
<td>e</td>
<td>正向移动到下一个单词词尾</td>
</tr>
<tr>
<td>E</td>
<td>正向移动到下一个单词词尾（忽略字符及标点）</td>
</tr>
<tr>
<td>ge</td>
<td>反向移动到上一单词的结尾</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>使用 <code>%</code> 可以在一对匹配开、闭括号间进行跳转，包括：<code>()</code>、<code>[]</code>、<code>&#123;&#125;</code>。</p>
</blockquote>
<h3 id="行跳转"><a href="#行跳转" class="headerlink" title="行跳转"></a>行跳转</h3><div class="table-container">
<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>j</td>
<td>向下移动一个实际行</td>
</tr>
<tr>
<td>k</td>
<td>向上移动一个实际行</td>
</tr>
<tr>
<td>0</td>
<td>移动至实际行的行首</td>
</tr>
<tr>
<td>^</td>
<td>移动到实际行的第一个非空白字符</td>
</tr>
<tr>
<td>$</td>
<td>移动到实际行的行尾</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>上述命令前加 g 则代表按屏幕行移动</p>
</blockquote>
<h3 id="页跳转"><a href="#页跳转" class="headerlink" title="页跳转"></a>页跳转</h3><div class="table-container">
<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>H (High)</td>
<td>光标移动到页首</td>
</tr>
<tr>
<td>M (Mid)</td>
<td>光标移动到页中</td>
</tr>
<tr>
<td>L (Low)</td>
<td>光标移动到页尾</td>
</tr>
<tr>
<td>nH</td>
<td>移动到页首往下的第 n 行</td>
</tr>
<tr>
<td>nL</td>
<td>移动到页尾往上的第 n 行</td>
</tr>
</tbody>
</table>
</div>
<h3 id="结构跳转"><a href="#结构跳转" class="headerlink" title="结构跳转"></a>结构跳转</h3><div class="table-container">
<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>(</code>, <code>)</code></td>
<td><code>(</code> 移动到当前句子开头 <code>)</code> 移动到结尾</td>
</tr>
<tr>
<td><code>&#123;</code>, <code>&#125;</code></td>
<td><code>&#123;</code> 移动到当前段落开头 <code>&#125;</code> 移动到结尾</td>
</tr>
<tr>
<td><code>[[</code>, <code>]]</code></td>
<td><code>[[</code> 移动到当前小节开头 <code>]]</code> 移动到结尾</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>前面加数值参数可以移动多次</p>
</blockquote>
<h3 id="文档跳转"><a href="#文档跳转" class="headerlink" title="文档跳转"></a>文档跳转</h3><div class="table-container">
<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>G（Goto）</td>
<td>移动到文档最后一行</td>
</tr>
<tr>
<td>nG</td>
<td>移动到文档第n行</td>
</tr>
<tr>
<td>gg</td>
<td>移动到文档第一行</td>
</tr>
<tr>
<td><code>&lt;C-o&gt;</code></td>
<td>返回到上次进行操作的地方</td>
</tr>
</tbody>
</table>
</div>
<h2 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h2><h3 id="字符查找"><a href="#字符查找" class="headerlink" title="字符查找"></a>字符查找</h3><div class="table-container">
<table>
<thead>
<tr>
<th>命令</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>f&#123;char&#125;</code></td>
<td>正向移动到下一个 {char} 所在之处</td>
</tr>
<tr>
<td><code>F&#123;char&#125;</code></td>
<td>反向移动到上一个 {char} 所在之处</td>
</tr>
<tr>
<td><code>t&#123;char&#125;</code></td>
<td>正向移动到下一个 {char} 所在之处的前一个字符上</td>
</tr>
<tr>
<td><code>T&#123;char&#125;</code></td>
<td>反向移动到上一个 {char} 所在之处的后一个字符上</td>
</tr>
<tr>
<td><code>;</code></td>
<td>重复上次的字符查找命令</td>
</tr>
<tr>
<td><code>,</code></td>
<td>反转方向查找上次的字符查找命令</td>
</tr>
</tbody>
</table>
</div>
<h3 id="词查找"><a href="#词查找" class="headerlink" title="词查找"></a>词查找</h3><div class="table-container">
<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/pattern</code></td>
<td>从光标位置向下搜索</td>
</tr>
<tr>
<td><code>?pattern</code></td>
<td>从光标位置向上搜索</td>
</tr>
<tr>
<td><code>n</code></td>
<td>往同一个方向重复搜索</td>
</tr>
<tr>
<td><code>N</code></td>
<td>往相反方向重复搜索</td>
</tr>
<tr>
<td><code>/ + Enter</code></td>
<td>向前重复搜索</td>
</tr>
<tr>
<td><code>? + Enter</code></td>
<td>向后重复搜索</td>
</tr>
<tr>
<td><code>*</code></td>
<td>查找光标所在的词</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>由于搜索会将光标移动至匹配单词的第一个字符，因此可配合操作实现增删改等功能。<br>使用 <code>&#123;action&#125;&#123;motion&#125;</code> 删除对应的内容，如 <code>:d/&#123;pattern&#125;</code> 为删除匹配行</p>
</blockquote>
<h3 id="TextObject"><a href="#TextObject" class="headerlink" title="TextObject"></a>TextObject</h3><p>Vim 的文本对象分为两类：一类是操作分隔符的文本对象，如 <code>i)</code>、<code>i&quot;</code> 和 <code>it</code>、；另一类用于操作文本块，如单词、句子和段落。</p>
<h4 id="分隔文本对象"><a href="#分隔文本对象" class="headerlink" title="分隔文本对象"></a>分隔文本对象</h4><p>分割文本对象有两个关键词，即以 a 开头的 around 命令，和以 i 开头的 inside。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>文本对象</th>
<th>等价按键</th>
<th>选择区域</th>
</tr>
</thead>
<tbody>
<tr>
<td>a)</td>
<td>ab</td>
<td>一对圆括号(范围包含括号)</td>
</tr>
<tr>
<td>i)</td>
<td>ib</td>
<td>一对圆括号(范围不包含括号)</td>
</tr>
<tr>
<td>a]/i]</td>
<td></td>
<td>一对方括号(区别同上)</td>
</tr>
<tr>
<td>a}/i}</td>
<td>aB/iB</td>
<td>一对花括号(区别同上)</td>
</tr>
<tr>
<td>a&gt;/i&gt;</td>
<td></td>
<td>一对尖括号(区别同上)</td>
</tr>
<tr>
<td>a’/i’</td>
<td></td>
<td>一对单引号(区别同上)</td>
</tr>
<tr>
<td>a”/i”</td>
<td></td>
<td>一对双引号(区别同上)</td>
</tr>
<tr>
<td>a`/i`</td>
<td></td>
<td>一对反引号(区别同上)</td>
</tr>
</tbody>
</table>
</div>
<h4 id="范围文本对象"><a href="#范围文本对象" class="headerlink" title="范围文本对象"></a>范围文本对象</h4><div class="table-container">
<table>
<thead>
<tr>
<th>文本对象</th>
<th>选择范围</th>
</tr>
</thead>
<tbody>
<tr>
<td>iw</td>
<td>当前单词</td>
</tr>
<tr>
<td>aw</td>
<td>当前单词及一个空格</td>
</tr>
<tr>
<td>iW</td>
<td>当前字串</td>
</tr>
<tr>
<td>aW</td>
<td>当前字串及一个空格</td>
</tr>
<tr>
<td>is</td>
<td>当前句子</td>
</tr>
<tr>
<td>as</td>
<td>当前句子及一个空格</td>
</tr>
<tr>
<td>ip</td>
<td>当前段落</td>
</tr>
<tr>
<td>ap</td>
<td>当前段落及一个空行</td>
</tr>
</tbody>
</table>
</div>
<h3 id="位置标记"><a href="#位置标记" class="headerlink" title="位置标记"></a>位置标记</h3><div class="table-container">
<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mx</code></td>
<td>将当前位置标记成 x</td>
</tr>
<tr>
<td><code>&#39;x</code></td>
<td>将光标移动至标记 x 所在行</td>
</tr>
<tr>
<td>`x</td>
<td>将光标移动至标记 x 所在字符</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>x 可以是任意字母</p>
</blockquote>
<p>下面是一些其他的位置标记</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>位置标记</th>
<th>跳转到</th>
</tr>
</thead>
<tbody>
<tr>
<td>``</td>
<td>当前文件中上次跳转动作之前的位置</td>
</tr>
<tr>
<td>`.</td>
<td>上次修改的地方</td>
</tr>
<tr>
<td>`^</td>
<td>上次插入的地方</td>
</tr>
<tr>
<td>`[</td>
<td>上次修改或复制的起始位置</td>
</tr>
<tr>
<td>`]</td>
<td>上次修改或复制的结束位置</td>
</tr>
<tr>
<td>`\&lt;</td>
<td>上次高亮选区的起始位置</td>
</tr>
<tr>
<td>`></td>
<td>上次高亮选区的结束位置</td>
</tr>
</tbody>
</table>
</div>
<h1 id="查找和替换"><a href="#查找和替换" class="headerlink" title="查找和替换"></a>查找和替换</h1><h2 id="增强型功能"><a href="#增强型功能" class="headerlink" title="增强型功能"></a>增强型功能</h2><h3 id="高亮匹配显示"><a href="#高亮匹配显示" class="headerlink" title="高亮匹配显示"></a>高亮匹配显示</h3><p>在匹配时，配置 <code>:set hlsearch</code> 或 <code>:set hls</code> 来高亮显示匹配的文本，<code>:set nohlsearch</code> 或是 <code>:set nohls</code> 关闭高亮显示。</p>
<h3 id="增量搜索"><a href="#增量搜索" class="headerlink" title="增量搜索"></a>增量搜索</h3><p>缺省情况下，我们在输入查找模式时，Vim 不会进行查找，只有当我们按下 <code>&lt;CR&gt;</code> 后， 它才会立即展开行动。<code>:set incsearch</code> 是我最喜爱的增强型功能。 该设置会让 Vim 根据已在查找域中输入的文本，预览第一处匹配。每当我们新输入一个 字符时，Vim 会即时更新预览内容。</p>
<h2 id="使用元字符匹配"><a href="#使用元字符匹配" class="headerlink" title="使用元字符匹配"></a>使用元字符匹配</h2><div class="table-container">
<table>
<thead>
<tr>
<th>元字符</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>\c</code></td>
<td>忽略大小写匹配</td>
<td><code>/\cfoo</code> 代表向下查询 foo、Foo、FOO</td>
</tr>
<tr>
<td><code>\C</code></td>
<td>强制大小写匹配</td>
<td></td>
</tr>
<tr>
<td><code>\v</code></td>
<td>开启 very magic 搜索模式</td>
<td><code>/\v[0-9a-fA-f]&#123;6&#125;</code> 无需对保留字符转义即可按模式匹配</td>
</tr>
<tr>
<td><code>\V</code></td>
<td>原义搜索模式</td>
<td>会屏蔽 <code>.</code>、<code>*</code> 以及 <code>+</code> 的特殊含义</td>
</tr>
<tr>
<td><code>&lt;</code> 同 <code>\zs</code></td>
<td>标志匹配的起始标记</td>
<td></td>
</tr>
<tr>
<td><code>&gt;</code> 同 <code>\ze</code></td>
<td>标志匹配的结尾标记</td>
</tr>
</tbody>
</table>
</div>
<h3 id="匹配范围标记"><a href="#匹配范围标记" class="headerlink" title="匹配范围标记"></a>匹配范围标记</h3><p>单词界定符，其本身不匹配任何字符，仅表示单词与围绕此单词的空白字符(或标点符号)之间的边界。</p>
<p><strong>单词匹配</strong></p>
<p><code>/\v&lt;word&gt;</code> 只匹配 word 单词，忽略 password 这种内嵌匹配</p>
<p><strong>调整匹配范围</strong></p>
<p><img src="/images/Linux/调整匹配范围.png" alt=""></p>
<p>这个基本模式用到了一个常见的正则表达式惯例 <code>&quot;[^&quot;]+&quot;</code>。该模式使用两个引号作为起始与结尾的标记，然后匹配除引号之外的一个或多个字符。在最后一行作为压轴出场的模式中，我们在开引号之后加入了元字符 <code>\zs</code>，在闭引号之前加入了元字符<code>\ze</code>。这样一来，引号本身被排除于匹配之外，只剩下引用的内容被高亮起来。</p>
<h2 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h2><p>substitute 命令允许我们先查找一段文本，再用另一段文本将其替换掉。命令的语法如下所示：</p>
<pre class="line-numbers language-none"><code class="language-none">:[range]s[ubstitute]&#x2F;&#123;pattern&#125;&#x2F;&#123;string&#125;&#x2F;[flags]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>其中 range 有多个指代符号：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>符号</th>
<th>解释</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$</code></td>
<td>代表最后一行</td>
<td><code>:1,$s/pattern/content/g</code></td>
</tr>
<tr>
<td><code>%</code></td>
<td>同 1,$ 代表全文</td>
<td><code>:%s/pattern/content/g</code></td>
</tr>
<tr>
<td><code>.</code></td>
<td>代表当前行</td>
</tr>
</tbody>
</table>
</div>
<h3 id="利用标志位调整替换行为"><a href="#利用标志位调整替换行为" class="headerlink" title="利用标志位调整替换行为"></a>利用标志位调整替换行为</h3><div class="table-container">
<table>
<thead>
<tr>
<th>标志位</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>g</td>
<td>使得 subsititute 命令可在整行范围内执行</td>
</tr>
<tr>
<td>c</td>
<td>可以确认或拒绝每一处修改</td>
</tr>
<tr>
<td>n</td>
<td>抑制正常的替换行为，而只是报告本次 substitute 命令匹配的个数</td>
</tr>
<tr>
<td>&amp;</td>
<td>仅仅用于指示 Vim 重用上一次 substitute 命令所用过的标志位</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>全行替换<br><code>:s/going/rolling/g</code></p>
<p>全局替换<br><code>:%s/going/rolling/g</code></p>
</blockquote>
<h3 id="确认每一处替换行为"><a href="#确认每一处替换行为" class="headerlink" title="确认每一处替换行为"></a>确认每一处替换行为</h3><pre class="line-numbers language-none"><code class="language-none">:%s&#x2F;content&#x2F;copy&#x2F;gc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Vim 会为我们提示 所有的选项“y/n/a/q/l/^E/^Y”。下表展示了每种答案的含义</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>答案</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>y</code></td>
<td>替换此处匹配</td>
</tr>
<tr>
<td><code>n</code></td>
<td>忽略此处匹配</td>
</tr>
<tr>
<td><code>q</code></td>
<td>退出替换过程</td>
</tr>
<tr>
<td><code>l</code></td>
<td>“last” 替换此处匹配后退出</td>
</tr>
<tr>
<td><code>a</code></td>
<td>“all” 替换此处与之后所有的匹配</td>
</tr>
<tr>
<td><code>&lt;C-e&gt;</code></td>
<td>向上滚动屏幕</td>
</tr>
<tr>
<td><code>&lt;C-y&gt;</code></td>
<td>向下滚动屏幕</td>
</tr>
</tbody>
</table>
</div>
<h3 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h3><p>假设我们已经复制了多行文本，并存放于寄存器 0 中。我们现在的目标是在 substitute 命令的替换域中使用这段文本。通过运行以下命令，可以做到这一点:</p>
<pre class="line-numbers language-none"><code class="language-none">:%s&#x2F;&#x2F;\&#x3D;@0&#x2F;g<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>替换域中出现的 <code>\=</code> 将指示 Vim 执行一段表达式脚本。在 Vim 脚本中，我们可以用 <code>@&#123;register&#125;</code> 来引用某个寄存器的内容。具体来说，<code>@0</code> 会返回复制专用寄存器 的内容，而 <code>@&quot;</code> 则返回无名寄存器的内容。</p>
<h2 id="将光标偏移到查找匹配的结尾"><a href="#将光标偏移到查找匹配的结尾" class="headerlink" title="将光标偏移到查找匹配的结尾"></a>将光标偏移到查找匹配的结尾</h2><p>每当我们执行查找命令时，光标总会被定位于匹配的首字母上。虽然这种缺省操 作看起来比较合理，但我们可能有时更倾向于将光标定位于查找匹配的结尾。Vim 的 查找偏移功能，可以将此想法变为现实(参见 :h search-offset )。</p>
<h2 id="交换两个单词位置"><a href="#交换两个单词位置" class="headerlink" title="交换两个单词位置"></a>交换两个单词位置</h2><p><img src="/images/Linux/使用圆括号但不捕获其内容.png" alt=""></p>
<p><img src="/images/Linux/使用圆括号但不捕获其内容-1.png" alt=""></p>
<h2 id="使用子匹配重排-CSV-文件的字段"><a href="#使用子匹配重排-CSV-文件的字段" class="headerlink" title="使用子匹配重排 CSV 文件的字段"></a>使用子匹配重排 CSV 文件的字段</h2><pre class="line-numbers language-csv" data-language="csv"><code class="language-csv"><span class="token value">last name</span><span class="token punctuation">,</span><span class="token value"> first name</span><span class="token punctuation">,</span><span class="token value"> email</span>
<span class="token value">neil</span><span class="token punctuation">,</span><span class="token value"> drew</span><span class="token punctuation">,</span><span class="token value"> drew@email.com</span>
<span class="token value">doe</span><span class="token punctuation">,</span><span class="token value"> john</span><span class="token punctuation">,</span><span class="token value"> john@email.com</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>如果我们想交换这些字段的次序，即把电子邮箱放到首列，其次是名字，最后一列为姓氏。通过使用以下 substitute 命令，我们可以做到这一点:</p>
<pre class="line-numbers language-none"><code class="language-none">&#x2F;\v^([^,]*),([^,]*),([^,]*)$
:%s&#x2F;&#x2F;\3,\2,\1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>在这个模式中，<code>[^,]</code> 会匹配除逗号以外的任何字符，因此，<code>([^,]*)</code> 不仅会 匹配 0 次或多次连续的非逗号字符，而且会把捕获到的结果当作子匹配。将此表达式重复 3 次，即可分别捕获 CSV 文件中 3 组字段中的每一列内容。</p>
<p>我们可以通过记号 <code>\n</code> 来引用这些子匹配。因此，在替换域中，<code>\1</code> 表示姓氏， <code>\2</code> 表示名字，<code>\3</code> 表示电子邮箱。在把一行内容切分成单独的字段后，我们可以把它们按照设想的顺序进行重新排列，即 <code>\3</code>，<code>\2</code>，<code>\1</code> —— 电子邮箱，名字，姓氏。</p>
<h2 id="交换两个或更多的单词"><a href="#交换两个或更多的单词" class="headerlink" title="交换两个或更多的单词"></a>交换两个或更多的单词</h2><p>我们甚至不需要创建函数就可以实现这个功能。我们只需为此简单地定义一个字典数据结构，其中包含两组键-值对。当我们将”dog”作为“键”传入字典 swapper 时，它会返回”man”，反之亦然。</p>
<pre class="line-numbers language-none"><code class="language-none">let swapper&#x3D;&#123;&quot;dog&quot;:&quot;man&quot;,&quot;man&quot;:&quot;dog&quot;&#125;

:echo swapper[&quot;dog&quot;]
&gt; man
:echo swapper[&quot;man&quot;]
&gt; dog<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>此模式可以轻松地匹配整个单词“man”或整个单词“dog”。其中，圆括号用于捕获已匹配的文本，方便我们在替换域中引用。</p>
<pre class="line-numbers language-none"><code class="language-none">&#x2F;\v(&lt;man&gt;|&lt;dog&gt;)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>我们通常使用 Vim 的符号 <code>\1</code>、<code>\2</code> (以此类推)来引用被捕获的文本。但在 Vim 脚本中，我们必须调用 <code>submatch()</code> 函数才能得到被捕获的文本。</p>
<pre class="line-numbers language-none"><code class="language-none">&#x2F;\v(&lt;man&gt;|&lt;dog&gt;)
:%s&#x2F;&#x2F;\&#x3D;&#123;&quot;dog&quot;:&quot;man&quot;,&quot;man&quot;:&quot;dog&quot;&#125;[submatch(1)]&#x2F;g<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h1 id="Global-命令"><a href="#Global-命令" class="headerlink" title="Global 命令"></a>Global 命令</h1><p><code>:global</code> 命令允许我们在某个指定模式的所有匹配行上运行 Ex 命令。通常采用以下形式：</p>
<pre class="line-numbers language-none"><code class="language-none">:[range] global[!] &#x2F;&#123;pattern&#125;&#x2F; [cmd]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>首先，在缺省情况下，<code>:global</code> 命令的作用范围是整个文件(%)，这一点与其他大多数 Ex 命令（包括 <code>:delete</code>、<code>:substitute</code> 以及 <code>:normal</code>）有所不同，这些命令的缺省范围仅为当前行（<code>.</code>）。其次，{pattern} 域与查找历史相互关联。这意味着如果将该域留空的话，Vim 会自动使用当前的查找模式。另外，<code>[cmd]</code> 可以是除 <code>:global</code> 命令之外的任何 Ex 命令。顺便提一 下，如果我们不指定任何 <code>[cmd]</code>，Vim 将缺省使用 <code>:print</code>。</p>
<p>我们可以用 <code>:global!</code> 或者 <code>:vglobal</code>（v 表示 invert）反转 <code>:global</code> 命令 的行为。这两条命令将指示 Vim 在没有匹配到指定模式的行上执行 <code>[cmd]</code>。</p>
<p><strong>显示指定模式的文本</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>:g/pattern</td>
<td>显示全局包含 pattern 的文本</td>
</tr>
<tr>
<td>:g!/pattern</td>
<td>显示全局不包含 pattern 的文本</td>
</tr>
<tr>
<td>:g/pattern/nu</td>
<td>显示全局包含 pattern 的文本并显示行号</td>
</tr>
<tr>
<td>:60,100g/pattern</td>
<td>显示 60 到 100 行包含 pattern 的文本</td>
</tr>
</tbody>
</table>
</div>
<p><strong>指定模式的所有匹配行上运行Ex命令</strong></p>
<pre class="line-numbers language-none"><code class="language-none">&gt; :g&#x2F;re&#x2F;d

或

&gt; &#x2F;re
&gt; :g&#x2F;&#x2F;d<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>可以将 <code>:global</code> 命令的查找域留空，Vim 将会重用最后一次的查找模式。</p>
<p><strong>指定模式的反选匹配行上运行Ex命令</strong></p>
<pre class="line-numbers language-none"><code class="language-none">&gt; :v&#x2F;re&#x2F;d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="将-TODO-项收集至寄存器"><a href="#将-TODO-项收集至寄存器" class="headerlink" title="将 TODO 项收集至寄存器"></a>将 TODO 项收集至寄存器</h2><pre class="line-numbers language-none"><code class="language-none">:g&#x2F;TODO &#x2F;&#x2F;将带有TODO的文本行打印出来

:g&#x2F;TODO&#x2F;y A &#x2F;&#x2F;将带有TODO的文本行附加到a寄存器(A 大写表示附加 a 小写表示覆盖) <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h1 id="常用技巧"><a href="#常用技巧" class="headerlink" title="常用技巧"></a>常用技巧</h1><h2 id="选择性修改文档内匹配的单词"><a href="#选择性修改文档内匹配的单词" class="headerlink" title="选择性修改文档内匹配的单词"></a>选择性修改文档内匹配的单词</h2><p><img src="/images/Linux/选择性修改文档内匹配的单词.png" alt=""></p>
<h2 id="增减数字"><a href="#增减数字" class="headerlink" title="增减数字"></a>增减数字</h2><p><img src="/images/Linux/增减数字.png" alt=""></p>
<blockquote>
<p>使用 <code>&lt;C-a&gt;</code> <code>&lt;C-x&gt;</code> 可以对数字进行增减，而不用通过编辑模式更改文本。</p>
</blockquote>
<h2 id="用迭代求值的方式给列表编号"><a href="#用迭代求值的方式给列表编号" class="headerlink" title="用迭代求值的方式给列表编号"></a>用迭代求值的方式给列表编号</h2><p><img src="/images/Linux/用迭代求值的方式给列表编号.png" alt=""></p>
<p><img src="/images/Linux/在其余文本上执行宏.png" alt=""></p>
<blockquote>
<p><code>:normal @a</code> 命令将指示 Vim 在高亮选中的每一行上执行这个宏。i 的初始值是 2，但它在每次宏执行完后都会递增。最终，每行都以连续的数字开头了。</p>
</blockquote>
<h2 id="对文本进行排序"><a href="#对文本进行排序" class="headerlink" title="对文本进行排序"></a>对文本进行排序</h2><pre class="line-numbers language-none"><code class="language-none">:[range] sort

:.+1,&#x2F;&#125;&#x2F;-1 sort
从当前行向下偏移一行开始，直到匹配到模式 &#x2F;&#125;&#x2F; 的那一行为止，按照字母顺序重新排序。

&#x2F;&#125;&#x2F; 会将光标置于 &#125; 字符所在行的起始位置<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Linux/" rel="tag"># Linux</a>
              <a href="/tags/VIM/" rel="tag"># VIM</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/05/19/Linux-FTP%E5%8D%8F%E8%AE%AE/" rel="prev" title="Linux FTP协议">
      <i class="fa fa-chevron-left"></i> Linux FTP协议
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/05/27/Network-CORS-%E8%B7%A8%E6%BA%90%E8%B5%84%E6%BA%90%E5%85%B1%E4%BA%AB/" rel="next" title="CORS 跨源资源共享">
      CORS 跨源资源共享 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.</span> <span class="nav-text">模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%99%AE%E9%80%9A%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.1.</span> <span class="nav-text">普通模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E5%85%A5%E6%8F%92%E5%85%A5%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="nav-number">1.1.1.</span> <span class="nav-text">进入插入模式的方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%AC%A6%E5%91%BD%E4%BB%A4"><span class="nav-number">1.1.2.</span> <span class="nav-text">操作符命令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8F%92%E5%85%A5%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.2.</span> <span class="nav-text">插入模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%94%E5%9B%9E%E6%99%AE%E9%80%9A%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="nav-number">1.2.1.</span> <span class="nav-text">返回普通模式的方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%8D%E5%90%91%E5%88%A0%E9%99%A4%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="nav-number">1.2.2.</span> <span class="nav-text">反向删除的方式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9B%BF%E6%8D%A2%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.3.</span> <span class="nav-text">替换模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AF%E8%A7%86%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.4.</span> <span class="nav-text">可视模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E5%85%A5%E5%8F%AF%E8%A7%86%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.4.1.</span> <span class="nav-text">进入可视模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%A2%E5%90%91%E8%A1%8C-%E5%88%97%E7%9A%84%E5%8F%AF%E8%A7%86%E5%91%BD%E4%BB%A4"><span class="nav-number">1.4.2.</span> <span class="nav-text">面向行&#x2F;列的可视命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%A8%E5%88%97%E9%97%B4%E5%A2%9E%E5%8A%A0%E5%88%86%E9%9A%94%E7%AB%96%E7%BA%BF"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">在列间增加分隔竖线</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%A8%E8%A1%8C%E9%97%B4%E5%A2%9E%E5%8A%A0%E6%A8%AA%E7%BA%BF"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">在行间增加横线</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%91%E5%A4%9A%E8%A1%8C%E6%8F%92%E5%85%A5%E6%96%87%E6%9C%AC"><span class="nav-number">1.4.2.3.</span> <span class="nav-text">向多行插入文本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%A8%E9%95%BF%E7%9F%AD%E4%B8%8D%E4%B8%80%E7%9A%84%E9%AB%98%E4%BA%AE%E5%9D%97%E5%90%8E%E6%B7%BB%E5%8A%A0%E6%96%87%E6%9C%AC"><span class="nav-number">1.4.2.4.</span> <span class="nav-text">在长短不一的高亮块后添加文本</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%AF%E8%A7%86-%E9%80%89%E6%8B%A9%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.4.3.</span> <span class="nav-text">可视-选择模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%AF%E8%A7%86%E6%A8%A1%E5%BC%8F%E9%80%89%E6%8B%A9%E6%8A%80%E5%B7%A7"><span class="nav-number">1.4.4.</span> <span class="nav-text">可视模式选择技巧</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.5.</span> <span class="nav-text">命令行模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="nav-number">1.5.1.</span> <span class="nav-text">常用命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%8D%E5%88%B6"><span class="nav-number">1.5.1.1.</span> <span class="nav-text">复制</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8C%83%E5%9B%B4%E6%8C%87%E4%BB%A3"><span class="nav-number">1.5.2.</span> <span class="nav-text">范围指代</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A8%A1%E5%BC%8F%E6%8C%87%E5%AE%9A%E8%8C%83%E5%9B%B4"><span class="nav-number">1.5.3.</span> <span class="nav-text">模式指定范围</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8-Ex-%E5%91%BD%E4%BB%A4"><span class="nav-number">1.5.4.</span> <span class="nav-text">自动补全 Ex 命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%9E%E6%BA%AF%E5%8E%86%E5%8F%B2%E5%91%BD%E4%BB%A4"><span class="nav-number">1.5.5.</span> <span class="nav-text">回溯历史命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%8E%E5%A4%96%E9%83%A8%E4%BA%A4%E4%BA%92"><span class="nav-number">1.5.6.</span> <span class="nav-text">与外部交互</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%A7%E8%A1%8C-Shell-%E5%91%BD%E4%BB%A4"><span class="nav-number">1.5.6.1.</span> <span class="nav-text">执行 Shell 命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%A1%E7%90%86%E7%BC%93%E5%86%B2%E5%8C%BA%E7%9A%84%E5%86%85%E5%AE%B9"><span class="nav-number">1.5.6.2.</span> <span class="nav-text">管理缓冲区的内容</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-number">2.</span> <span class="nav-text">寄存器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%A0%E5%90%8D%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-number">2.1.</span> <span class="nav-text">无名寄存器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%8D%E5%88%B6%E4%B8%93%E7%94%A8%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-number">2.2.</span> <span class="nav-text">复制专用寄存器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%89%E5%90%8D%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-number">2.3.</span> <span class="nav-text">有名寄存器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E5%AF%84%E5%AD%98%E5%99%A8%E5%92%8C%E9%80%89%E6%8B%A9%E4%B8%93%E7%94%A8%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-number">2.4.</span> <span class="nav-text">系统寄存器和选择专用寄存器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-number">2.5.</span> <span class="nav-text">表达式寄存器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-number">2.6.</span> <span class="nav-text">其他寄存器</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%8F"><span class="nav-number">3.</span> <span class="nav-text">宏</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BD%95%E5%88%B6%E5%AE%8F"><span class="nav-number">3.1.</span> <span class="nav-text">录制宏</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%A7%E8%A1%8C%E5%AE%8F"><span class="nav-number">3.2.</span> <span class="nav-text">执行宏</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%BD%E5%8A%A0%E5%AE%8F"><span class="nav-number">3.3.</span> <span class="nav-text">追加宏</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9B%B4%E5%BF%AB%E7%9A%84%E7%A7%BB%E5%8A%A8%E5%92%8C%E8%B7%B3%E8%BD%AC"><span class="nav-number">4.</span> <span class="nav-text">更快的移动和跳转</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E7%A7%BB%E5%8A%A8"><span class="nav-number">4.1.</span> <span class="nav-text">页面移动</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B7%B3%E8%BD%AC"><span class="nav-number">4.2.</span> <span class="nav-text">跳转</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E5%90%91%E8%B7%B3%E8%BD%AC"><span class="nav-number">4.2.1.</span> <span class="nav-text">方向跳转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%8D%E8%B7%B3%E8%BD%AC"><span class="nav-number">4.2.2.</span> <span class="nav-text">词跳转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%8C%E8%B7%B3%E8%BD%AC"><span class="nav-number">4.2.3.</span> <span class="nav-text">行跳转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B5%E8%B7%B3%E8%BD%AC"><span class="nav-number">4.2.4.</span> <span class="nav-text">页跳转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%93%E6%9E%84%E8%B7%B3%E8%BD%AC"><span class="nav-number">4.2.5.</span> <span class="nav-text">结构跳转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E6%A1%A3%E8%B7%B3%E8%BD%AC"><span class="nav-number">4.2.6.</span> <span class="nav-text">文档跳转</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E6%89%BE"><span class="nav-number">4.3.</span> <span class="nav-text">查找</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E6%9F%A5%E6%89%BE"><span class="nav-number">4.3.1.</span> <span class="nav-text">字符查找</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%8D%E6%9F%A5%E6%89%BE"><span class="nav-number">4.3.2.</span> <span class="nav-text">词查找</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TextObject"><span class="nav-number">4.3.3.</span> <span class="nav-text">TextObject</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E9%9A%94%E6%96%87%E6%9C%AC%E5%AF%B9%E8%B1%A1"><span class="nav-number">4.3.3.1.</span> <span class="nav-text">分隔文本对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8C%83%E5%9B%B4%E6%96%87%E6%9C%AC%E5%AF%B9%E8%B1%A1"><span class="nav-number">4.3.3.2.</span> <span class="nav-text">范围文本对象</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%8D%E7%BD%AE%E6%A0%87%E8%AE%B0"><span class="nav-number">4.3.4.</span> <span class="nav-text">位置标记</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9F%A5%E6%89%BE%E5%92%8C%E6%9B%BF%E6%8D%A2"><span class="nav-number">5.</span> <span class="nav-text">查找和替换</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A2%9E%E5%BC%BA%E5%9E%8B%E5%8A%9F%E8%83%BD"><span class="nav-number">5.1.</span> <span class="nav-text">增强型功能</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%AB%98%E4%BA%AE%E5%8C%B9%E9%85%8D%E6%98%BE%E7%A4%BA"><span class="nav-number">5.1.1.</span> <span class="nav-text">高亮匹配显示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E9%87%8F%E6%90%9C%E7%B4%A2"><span class="nav-number">5.1.2.</span> <span class="nav-text">增量搜索</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%85%83%E5%AD%97%E7%AC%A6%E5%8C%B9%E9%85%8D"><span class="nav-number">5.2.</span> <span class="nav-text">使用元字符匹配</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8C%B9%E9%85%8D%E8%8C%83%E5%9B%B4%E6%A0%87%E8%AE%B0"><span class="nav-number">5.2.1.</span> <span class="nav-text">匹配范围标记</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9B%BF%E6%8D%A2"><span class="nav-number">5.3.</span> <span class="nav-text">替换</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A9%E7%94%A8%E6%A0%87%E5%BF%97%E4%BD%8D%E8%B0%83%E6%95%B4%E6%9B%BF%E6%8D%A2%E8%A1%8C%E4%B8%BA"><span class="nav-number">5.3.1.</span> <span class="nav-text">利用标志位调整替换行为</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A1%AE%E8%AE%A4%E6%AF%8F%E4%B8%80%E5%A4%84%E6%9B%BF%E6%8D%A2%E8%A1%8C%E4%B8%BA"><span class="nav-number">5.3.2.</span> <span class="nav-text">确认每一处替换行为</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%95%E7%94%A8"><span class="nav-number">5.3.3.</span> <span class="nav-text">引用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%86%E5%85%89%E6%A0%87%E5%81%8F%E7%A7%BB%E5%88%B0%E6%9F%A5%E6%89%BE%E5%8C%B9%E9%85%8D%E7%9A%84%E7%BB%93%E5%B0%BE"><span class="nav-number">5.4.</span> <span class="nav-text">将光标偏移到查找匹配的结尾</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%A4%E6%8D%A2%E4%B8%A4%E4%B8%AA%E5%8D%95%E8%AF%8D%E4%BD%8D%E7%BD%AE"><span class="nav-number">5.5.</span> <span class="nav-text">交换两个单词位置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%AD%90%E5%8C%B9%E9%85%8D%E9%87%8D%E6%8E%92-CSV-%E6%96%87%E4%BB%B6%E7%9A%84%E5%AD%97%E6%AE%B5"><span class="nav-number">5.6.</span> <span class="nav-text">使用子匹配重排 CSV 文件的字段</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%A4%E6%8D%A2%E4%B8%A4%E4%B8%AA%E6%88%96%E6%9B%B4%E5%A4%9A%E7%9A%84%E5%8D%95%E8%AF%8D"><span class="nav-number">5.7.</span> <span class="nav-text">交换两个或更多的单词</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Global-%E5%91%BD%E4%BB%A4"><span class="nav-number">6.</span> <span class="nav-text">Global 命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%86-TODO-%E9%A1%B9%E6%94%B6%E9%9B%86%E8%87%B3%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-number">6.1.</span> <span class="nav-text">将 TODO 项收集至寄存器</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7"><span class="nav-number">7.</span> <span class="nav-text">常用技巧</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%89%E6%8B%A9%E6%80%A7%E4%BF%AE%E6%94%B9%E6%96%87%E6%A1%A3%E5%86%85%E5%8C%B9%E9%85%8D%E7%9A%84%E5%8D%95%E8%AF%8D"><span class="nav-number">7.1.</span> <span class="nav-text">选择性修改文档内匹配的单词</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A2%9E%E5%87%8F%E6%95%B0%E5%AD%97"><span class="nav-number">7.2.</span> <span class="nav-text">增减数字</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%A8%E8%BF%AD%E4%BB%A3%E6%B1%82%E5%80%BC%E7%9A%84%E6%96%B9%E5%BC%8F%E7%BB%99%E5%88%97%E8%A1%A8%E7%BC%96%E5%8F%B7"><span class="nav-number">7.3.</span> <span class="nav-text">用迭代求值的方式给列表编号</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%B9%E6%96%87%E6%9C%AC%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F"><span class="nav-number">7.4.</span> <span class="nav-text">对文本进行排序</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Wang Zihao</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">149</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">29</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">291</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wang Zihao</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  

</body>
</html>
