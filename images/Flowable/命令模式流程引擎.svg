<svg height="1049.25" version="1.1" width="1688.28125" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="overflow: hidden; position: relative; left: -0.4000244140625px; top: -0.399993896484375px; zoom: 0.46603608717029155; color: rgb(51, 51, 51);"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block"></path><marker id="raphael-marker-endblock55-obj3of3o" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objtazyg" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objw4o0q" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj1b0y0" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objjdyat" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objym5it" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objj7n4p" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj4ne2g" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objf7u2w" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objppkfy" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objcyjkr" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj7vwtl" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objhulcl" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj4gzly" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objlmv57" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objiwuiv" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objevcpa" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objfg0ph" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objbf3us" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj5emqk" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objmeqj7" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker></defs><rect x="10" y="20" width="58.40625" height="38" rx="0" ry="0" fill="none" stroke="currentColor" stroke-width="2" style=""></rect><rect x="20" y="30" width="38.40625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="39.203125" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">Main</tspan></text><rect x="10" y="991.25" width="58.40625" height="38" rx="0" ry="0" fill="none" stroke="currentColor" stroke-width="2" style=""></rect><rect x="20" y="1001.25" width="38.40625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="39.203125" y="1010.25" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">Main</tspan></text><path fill="none" stroke="currentColor" d="M39.203125,58L39.203125,991.25" stroke-width="2" style=""></path><rect x="88.40625" y="20" width="154.4375" height="38" rx="0" ry="0" fill="none" stroke="currentColor" stroke-width="2" style=""></rect><rect x="98.40625" y="30" width="134.4375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="165.625" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">RuntimeService</tspan></text><rect x="88.40625" y="991.25" width="154.4375" height="38" rx="0" ry="0" fill="none" stroke="currentColor" stroke-width="2" style=""></rect><rect x="98.40625" y="1001.25" width="134.4375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="165.625" y="1010.25" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">RuntimeService</tspan></text><path fill="none" stroke="currentColor" d="M165.625,58L165.625,991.25" stroke-width="2" style=""></path><rect x="298.828125" y="20" width="164.03125" height="38" rx="0" ry="0" fill="none" stroke="currentColor" stroke-width="2" style=""></rect><rect x="308.828125" y="30" width="144.03125" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="380.84375" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">CommandExecutor</tspan></text><rect x="298.828125" y="991.25" width="164.03125" height="38" rx="0" ry="0" fill="none" stroke="currentColor" stroke-width="2" style=""></rect><rect x="308.828125" y="1001.25" width="144.03125" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="380.84375" y="1010.25" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">CommandExecutor</tspan></text><path fill="none" stroke="currentColor" d="M380.84375,58L380.84375,991.25" stroke-width="2" style=""></path><rect x="482.859375" y="20" width="192.84375" height="38" rx="0" ry="0" fill="none" stroke="currentColor" stroke-width="2" style=""></rect><rect x="492.859375" y="30" width="172.84375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="579.28125" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">CommandInterceptor</tspan></text><rect x="482.859375" y="991.25" width="192.84375" height="38" rx="0" ry="0" fill="none" stroke="currentColor" stroke-width="2" style=""></rect><rect x="492.859375" y="1001.25" width="172.84375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="579.28125" y="1010.25" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">CommandInterceptor</tspan></text><path fill="none" stroke="currentColor" d="M579.28125,58L579.28125,991.25" stroke-width="2" style=""></path><rect x="777.3125" y="20" width="260.0625" height="38" rx="0" ry="0" fill="none" stroke="currentColor" stroke-width="2" style=""></rect><rect x="787.3125" y="30" width="240.0625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="907.34375" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">CommandContextInterceptor</tspan></text><rect x="777.3125" y="991.25" width="260.0625" height="38" rx="0" ry="0" fill="none" stroke="currentColor" stroke-width="2" style=""></rect><rect x="787.3125" y="1001.25" width="240.0625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="907.34375" y="1010.25" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">CommandContextInterceptor</tspan></text><path fill="none" stroke="currentColor" d="M907.34375,58L907.34375,991.25" stroke-width="2" style=""></path><rect x="1057.375" y="20" width="154.4375" height="38" rx="0" ry="0" fill="none" stroke="currentColor" stroke-width="2" style=""></rect><rect x="1067.375" y="30" width="134.4375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="1134.59375" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">CommandContext</tspan></text><rect x="1057.375" y="991.25" width="154.4375" height="38" rx="0" ry="0" fill="none" stroke="currentColor" stroke-width="2" style=""></rect><rect x="1067.375" y="1001.25" width="134.4375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="1134.59375" y="1010.25" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">CommandContext</tspan></text><path fill="none" stroke="currentColor" d="M1134.59375,58L1134.59375,991.25" stroke-width="2" style=""></path><rect x="68.796875" y="74" width="67.234375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="102.4140625" y="83" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">trigger</tspan></text><path fill="none" stroke="currentColor" d="M39.203125,96C39.203125,96,137.186811696738,96,160.6301742364849,96" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj3of3o)" stroke-dasharray="none" style=""></path><rect x="175.625" y="104.796875" width="195.21875" height="32.40625" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="273.234375" y="121" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="-1.6875">execute(Cmd) </tspan><tspan dy="14.399999999999999" x="273.234375"> 将trigger调用包装成命令</tspan></text><path fill="none" stroke="currentColor" d="M165.625,148.40625C165.625,148.40625,343.52647683024406,148.40625,375.8406122701126,148.40625" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objtazyg)" stroke-dasharray="none" style=""></path><rect x="416.0625" y="157.203125" width="128" height="32.40625" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="480.0625" y="173.40625" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="-1.6875">execute(Cmd) </tspan><tspan dy="14.399999999999999" x="480.0625"> 责任链执行拦截器</tspan></text><path fill="none" stroke="currentColor" d="M380.84375,200.8125C380.84375,200.8125,543.4672493338585,200.8125,574.2767794810934,200.8125" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objw4o0q)" stroke-dasharray="none" style=""></path><rect x="604.28125" y="220.8125" width="144.03125" height="32.40625" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="676.296875" y="237.015625" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="-1.6875">LogInterceptor </tspan><tspan dy="14.399999999999999" x="676.296875"> 打印命令执行信息</tspan></text><path fill="none" stroke="currentColor" d="M579.28125,215.8125L599.28125,215.8125" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M599.28125,215.8125L599.28125,263.21875" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M599.28125,263.21875C599.28125,263.21875,590.2003631591797,263.21875,584.2765033841133,263.21875" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-obj1b0y0)" style=""></path><rect x="703.3125" y="269.21875" width="80" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="743.3125" y="278.21875" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">装填上下文</tspan></text><path fill="none" stroke="currentColor" d="M579.28125,291.21875C579.28125,291.21875,861.1218161741272,291.21875,902.3382466278142,291.21875" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objjdyat)" stroke-dasharray="none" style=""></path><rect x="982.5625" y="307.21875" width="76.8125" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="1020.96875" y="316.21875" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">create()</tspan></text><path fill="none" stroke="currentColor" d="M907.34375,329.21875C907.34375,329.21875,1096.2511294670403,329.21875,1129.5958646610516,329.21875" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objym5it)" stroke-dasharray="none" style=""></path><rect x="1159.59375" y="349.21875" width="214.4375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="1266.8125" y="358.21875" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">装填session、command信息</tspan></text><path fill="none" stroke="currentColor" d="M1134.59375,344.21875L1154.59375,344.21875" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M1154.59375,344.21875L1154.59375,377.21875" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M1154.59375,377.21875C1154.59375,377.21875,1145.5128631591797,377.21875,1139.5890033841133,377.21875" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-objj7n4p)" style=""></path><rect x="932.34375" y="387.21875" width="96" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="980.34375" y="396.21875" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">命令入栈管理</tspan></text><path fill="none" stroke="currentColor" d="M907.34375,382.21875L927.34375,382.21875" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M927.34375,382.21875L927.34375,415.21875" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M927.34375,415.21875C927.34375,415.21875,918.2628631591797,415.21875,912.3390033841133,415.21875" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-obj4ne2g)" style=""></path><rect x="604.28125" y="425.21875" width="288.0625" height="32.40625" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="748.3125" y="441.421875" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="-1.6875">TransactionContextInterceptor </tspan><tspan dy="14.399999999999999" x="748.3125"> 创建DB事务上下文</tspan></text><path fill="none" stroke="currentColor" d="M579.28125,420.21875L599.28125,420.21875" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M599.28125,420.21875L599.28125,467.625" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M599.28125,467.625C599.28125,467.625,590.2003631591797,467.625,584.2765033841133,467.625" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-objf7u2w)" style=""></path><rect x="604.28125" y="477.625" width="176.03125" height="46.8125" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="692.296875" y="501.03125" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="-8.890625">CommandInvoker </tspan><tspan dy="14.399999999999999" x="692.296875"> 1.入队封装的Command </tspan><tspan dy="14.399999999999999" x="692.296875"> 2.执行封装的Command</tspan></text><path fill="none" stroke="currentColor" d="M579.28125,472.625L599.28125,472.625" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M599.28125,472.625L599.28125,534.4375" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M599.28125,534.4375C599.28125,534.4375,590.2003631591797,534.4375,584.2765033841133,534.4375" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-objppkfy)" style=""></path><rect x="448.0625" y="540.4375" width="64" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="480.0625" y="549.4375" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">返回结果</tspan></text><path fill="none" stroke="currentColor" d="M579.28125,562.4375C579.28125,562.4375,416.6577506661415,562.4375,385.8482205189066,562.4375" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objcyjkr)" stroke-dasharray="none" style=""></path><rect x="604.28125" y="582.4375" width="288.0625" height="32.40625" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="748.3125" y="598.640625" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="-1.6875">TransactionContextInterceptor </tspan><tspan dy="14.399999999999999" x="748.3125"> 移除DB事务上下文</tspan></text><path fill="none" stroke="currentColor" d="M579.28125,577.4375L599.28125,577.4375" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M599.28125,577.4375L599.28125,624.84375" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M599.28125,624.84375C599.28125,624.84375,590.2003631591797,624.84375,584.2765033841133,624.84375" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-obj7vwtl)" style=""></path><rect x="703.3125" y="630.84375" width="80" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="743.3125" y="639.84375" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">关闭上下文</tspan></text><path fill="none" stroke="currentColor" d="M579.28125,652.84375C579.28125,652.84375,861.1218161741272,652.84375,902.3382466278142,652.84375" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objhulcl)" stroke-dasharray="none" style=""></path><rect x="987.359375" y="668.84375" width="67.21875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="1020.96875" y="677.84375" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">close()</tspan></text><path fill="none" stroke="currentColor" d="M907.34375,690.84375C907.34375,690.84375,1096.2511294670403,690.84375,1129.5958646610516,690.84375" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj4gzly)" stroke-dasharray="none" style=""></path><rect x="1159.59375" y="710.84375" width="80" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="1199.59375" y="719.84375" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">移除上下文</tspan></text><path fill="none" stroke="currentColor" d="M1134.59375,705.84375L1154.59375,705.84375" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M1154.59375,705.84375L1154.59375,738.84375" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M1154.59375,738.84375C1154.59375,738.84375,1145.5128631591797,738.84375,1139.5890033841133,738.84375" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-objlmv57)" style=""></path><rect x="1159.59375" y="748.84375" width="192.03125" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="1255.609375" y="757.84375" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">调用Listener的close()</tspan></text><path fill="none" stroke="currentColor" d="M1134.59375,743.84375L1154.59375,743.84375" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M1154.59375,743.84375L1154.59375,776.84375" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M1154.59375,776.84375C1154.59375,776.84375,1145.5128631591797,776.84375,1139.5890033841133,776.84375" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-objiwuiv)" style=""></path><rect x="1159.59375" y="786.84375" width="208.03125" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="1263.609375" y="795.84375" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">清空缓存 flushSession()</tspan></text><path fill="none" stroke="currentColor" d="M1134.59375,781.84375L1154.59375,781.84375" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M1154.59375,781.84375L1154.59375,814.84375" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M1154.59375,814.84375C1154.59375,814.84375,1145.5128631591797,814.84375,1139.5890033841133,814.84375" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-objevcpa)" style=""></path><rect x="1159.59375" y="824.84375" width="406.46875" height="32.40625" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="1362.828125" y="841.046875" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="-1.6875">调用Listener的AfterSessionsFlush</tspan><tspan dy="14.399999999999999" x="1362.828125">（包含TransactionContextInterceptor事务提交）</tspan></text><path fill="none" stroke="currentColor" d="M1134.59375,819.84375L1154.59375,819.84375" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M1154.59375,819.84375L1154.59375,867.25" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M1154.59375,867.25C1154.59375,867.25,1145.5128631591797,867.25,1139.5890033841133,867.25" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-objfg0ph)" style=""></path><rect x="1159.59375" y="877.25" width="201.625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="1260.40625" y="886.25" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">调用Listener的closed()</tspan></text><path fill="none" stroke="currentColor" d="M1134.59375,872.25L1154.59375,872.25" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M1154.59375,872.25L1154.59375,905.25" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M1154.59375,905.25C1154.59375,905.25,1145.5128631591797,905.25,1139.5890033841133,905.25" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-objbf3us)" style=""></path><rect x="1159.59375" y="915.25" width="252.84375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="1286.015625" y="924.25" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">关闭Sessions closeSession()</tspan></text><path fill="none" stroke="currentColor" d="M1134.59375,910.25L1154.59375,910.25" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M1154.59375,910.25L1154.59375,943.25" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="none" stroke="currentColor" d="M1154.59375,943.25C1154.59375,943.25,1145.5128631591797,943.25,1139.5890033841133,943.25" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-obj5emqk)" style=""></path><rect x="980.96875" y="949.25" width="80" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="1020.96875" y="958.25" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">移除上下文</tspan></text><path fill="none" stroke="currentColor" d="M907.34375,971.25C907.34375,971.25,1096.2511294670403,971.25,1129.5958646610516,971.25" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objmeqj7)" stroke-dasharray="none" style=""></path></svg>